(function(a){a(document).ready(function(){var d="rsxqjzypgdqmrnnkkkrmgshvnnnkzzvu";var c=window[d+"ProductPostTypeData"];var b=neyjfbxruwddgfeedwacfbggzbxkwfxhJQueryJsGridData;a("."+d+"-product-meta").each(function(){var l=a(this);var f=l.find('.-permissions-grid[data-toggle~="jquery-jsgrid"]');if(!l.length||!f.length){return}var e=false;var i=l.data("variationKey");var g=i?true:false;var j=a.parseJSON(l.find(".-product-permissions").val());var k=function(o){return'<span class="woocommerce-help-tip" data-toggle="jquery-tip" data-tip="'+_.escape(o)+'"></span>'};var n=[{ID:null,title:""}];a.each(c.restrictionTitlesById,function(o,p){n.push({ID:o,title:p})});var h=[];a.each(c.productPermissionAccessOffsetTimes,function(o,p){h.push({key:o,title:!/^[0-9]/.test(o)?p:c.i18n.accessOffsetTimeAfter+" "+p})});var m=[];a.each(c.productPermissionExpireOffsetTimes,function(o,p){m.push({key:o,title:!/^[0-9]/.test(o)?p:p+" "+c.i18n.expireOffsetTimeLater})});f.jsGrid(a.extend({},b.defaultOptions,{data:j,noDataContent:c.i18n.noDataContent,insertingByDefault:j.length===0,sorting:false,paging:false,onRefreshed:function(){if(e){return}e=true;f.find(".jsgrid-grid-body > table > tbody").sortable({placeholder:"ui-state-highlight"})},fields:[{type:"number",align:"center",name:"product_id",title:c.i18n.productIdTitle,visible:false,},{width:"30%",type:"select",align:"center",name:"restriction_id",title:c.i18n.restrictionIdTitle+" "+k(c.i18n.restrictionIdTitleTip),visible:true,editing:true,inserting:true,valueField:"ID",valueType:"number",textField:"title",items:n,validate:{validator:function(p,o){return typeof p==="number"&&p>0},message:function(p,o){return"• "+c.i18n.restrictionAccessRequired}},itemTemplate:function(p,o){return p?"<strong>"+_.escape(c.restrictionTitlesById[p])+"</strong>":""}},{width:"30%",type:"select",align:"center",name:"access_offset_time",title:c.i18n.accessOffsetTimeTitle+" "+k(c.i18n.accessOffsetTimeTitleTip),visible:true,editing:true,inserting:true,valueField:"key",valueType:"string",textField:"title",allowOther:true,otherPlaceholderText:c.i18n.accessOffsetTimeOtherPlaceholder,items:h,validate:{validator:function(p,o){return typeof p==="string"&&p&&p!=="0"},message:function(p,o){return"• "+c.i18n.accessOffsetTimeRequired}}},{width:"30%",type:"select",align:"center",name:"expire_offset_time",title:c.i18n.expireOffsetTimeTitle+" "+k(c.i18n.expireOffsetTimeTitleTip),visible:true,editing:true,inserting:true,valueField:"key",valueType:"string",textField:"title",allowOther:true,otherPlaceholderText:c.i18n.expireOffsetTimeOtherPlaceholder,items:m,validate:{validator:function(p,o){return typeof p==="string"&&p&&p!=="0"},message:function(p,o){return"• "+c.i18n.expireOffsetTimeRequired}}},{type:"number",align:"center",name:"display_order",title:c.i18n.displayOrderTitle,visible:false,},a.extend({},b.controlDefaultOptions)]}));l.find('[data-toggle~="jquery-tip"]').tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})})})})(jQuery);